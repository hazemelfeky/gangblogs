{"version":3,"sources":["firestore/config.js","components/BlogDetails.js","hooks/useFireStore.js","components/Theblog.js","components/Bloglist.js","components/Navbar.js","components/Newblog.js","components/NotFound.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","projectFireStore","firestore","timestamp","FieldValue","serverTimestamp","BlogDetails","history","useHistory","id","useParams","useState","blog","setBlog","useEffect","a","docRef","collection","doc","dummyBlog","get","then","exists","console","log","data","catch","error","dummyFun","className","title","author","body","onClick","delete","push","useFirestore","blogs","setBlogs","isPending","setIsPending","noBlogs","setNoBlogs","unsub","orderBy","onSnapshot","snap","empty","documents","forEach","Theblog","Bloglist","map","to","Navbar","style","backgroundColor","borderRadius","color","padding","Newblog","setTitle","setBody","setAuther","createdAt","HandleClick","e","preventDefault","add","alert","message","type","value","onChange","target","NotFound","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0PAeAA,IAASC,cAXY,CACnBC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,sDACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,cACnBC,MAAO,2CACPC,cAAe,iBAKjB,IAAMC,EAAmBV,IAASW,YAC5BC,EAAYZ,IAASW,UAAUE,WAAWC,gB,OCoEjCC,EAhFK,WAElB,IAAMC,EAAUC,cAERC,EAAOC,YAAU,MAAjBD,GAJgB,EAMEE,mBAAS,IANX,mBAMhBC,EANgB,KAMVC,EANU,KAQxBC,qBAAW,YAgBK,uCAAK,8BAAAC,EAAA,6DACbC,EAASf,EAAiBgB,WAAW,SAASC,IAAIT,GAElDU,EAAY,GAHC,SAKXH,EAAOI,MAAMC,MAAK,SAACH,GACnBA,EAAII,QACNC,QAAQC,IAAIN,EAAIO,QAChBN,EAAYD,EAAIO,OAChBZ,EAAQ,eAAIM,KAGZI,QAAQC,IAAI,wBAEbE,OAAM,SAACC,GACNJ,QAAQC,IAAI,0BAA2BG,MAf1B,OAiBjBJ,QAAQC,IAAIZ,GAjBK,2CAAL,qDAmBdgB,KAGD,CAACnB,IAsBF,OACE,qBAAKoB,UAAU,eAAf,SACIjB,GAAQ,oCACNA,EAAKkB,OAAQ,iDAAoBlB,EAAKkB,MAAzB,OACblB,EAAKmB,QAAU,4CAAenB,EAAKmB,UACnCnB,EAAKoB,MAAQ,4BAAIpB,EAAKoB,OACxB,wBAAQC,QApBM,WAMlBhC,EAAiBgB,WAAW,SAASC,IAAIT,GAAIyB,SAASb,MAAK,WACzDE,QAAQC,IAAI,kCACZjB,EAAQ4B,KAAK,QACZT,OAAM,SAACC,GACNJ,QAAQI,MAAM,4BAA6BA,OAU3C,0BCpCOS,EAxCM,SAACnB,GAAgB,IAAD,EAEPN,mBAAS,IAFF,mBAE3B0B,EAF2B,KAEpBC,EAFoB,OAGC3B,oBAAS,GAHV,mBAG3B4B,EAH2B,KAGhBC,EAHgB,OAKJ7B,mBAAS,IALL,mBAK3B8B,EAL2B,KAKlBC,EALkB,KAgCnC,OAzBA5B,qBAAU,WACR,IAAM6B,EAAQ1C,EAAiBgB,WAAWA,GACvC2B,QAAQ,YAAa,QACrBC,YAAY,SAAAC,GACPA,EAAKC,QACPxB,QAAQC,IAAI,cACZkB,EAAW,YACXF,GAAa,IAEf,IAAIQ,EAAY,GAChBF,EAAKG,SAAS,SAAA/B,GACZ8B,EAAUb,KAAV,2BAAmBjB,EAAIO,QAAvB,IAA+BhB,GAAIS,EAAIT,MACvC+B,GAAa,MAIfF,EAASU,MAGX,OAAO,kBAAML,OAEf,CAAC1B,IAII,CAAEoB,QAAOE,YAAWE,YC3BdS,EATC,SAAC,GAAsB,IAApBpB,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,OACxB,OACE,sBAAKF,UAAU,UAAf,UACE,6BAAKC,IACL,2CAAcC,SCqBLoB,EApBE,WAAM,MAEiBf,EAAa,SAA3CC,EAFa,EAEbA,MAAOE,EAFM,EAENA,UAAWE,EAFL,EAEKA,QAE1B,OACE,gCACE,2CAEEF,GAAa,2CACbE,GAAW,4BAAIA,IAEfJ,GAASA,EAAMe,KAAK,SAACxC,GAAU,OAC/B,cAAC,IAAD,CAAMyC,GAAE,iBAAYzC,EAAKH,IAAsBoB,UAAU,oBAAzD,SACE,cAAC,EAAD,CAASC,MAAOlB,EAAKkB,MAAOC,OAAQnB,EAAKmB,UADNnB,EAAKH,WCQnC6C,EAvBA,WAYb,OACE,sBAAKzB,UAAU,SAAf,UACE,+CACA,sBAAKA,UAAU,QAAf,UACE,cAAC,IAAD,CAAMwB,GAAG,IAAT,kBACA,cAAC,IAAD,CAAMA,GAAG,UAAUE,MAZJ,CACnBC,gBAAiB,UACjBC,aAAc,EACdC,MAAQ,OACRC,QAAU,GAQN,6BCgEOC,EA/EC,WAAO,IAAD,EAEMjD,mBAAS,IAFf,mBAEbmB,EAFa,KAEN+B,EAFM,OAGIlD,mBAAS,IAHb,mBAGbqB,EAHa,KAGP8B,EAHO,OAIQnD,mBAAS,QAJjB,mBAIboB,EAJa,KAILgC,EAJK,OAKcpD,oBAAS,GALvB,mBAKb4B,EALa,KAKFC,EALE,KAMdjC,EAAUC,cAGVI,EAAO,CAAEkB,QAAOE,OAAMD,SAAQiC,UAFlB7D,KAIZ8D,EAAc,SAACC,GACnBA,EAAEC,iBAEF3B,GAAa,GAECvC,EAAiBgB,WAAW,SAEpCmD,IAAIxD,GAAMS,MAAM,WACpBmB,GAAa,GAEbjC,EAAQ4B,KAAK,QAEdT,OAAM,SAACC,GACN0C,MAAM1C,EAAM2C,SACZ9B,GAAa,OAgBjB,OACE,sBAAKX,UAAU,WAAf,UACE,0CACA,iCACE,gDACA,uBACE0C,KAAK,OACLC,MAAO1C,EACP2C,SAAU,SAACP,GAAD,OAAOL,EAASK,EAAEQ,OAAOF,UAErC,+CACA,0BACEA,MAAOxC,EACPyC,SAAU,SAACP,GAAD,OAAOJ,EAAQI,EAAEQ,OAAOF,UAEpC,iDAQA,uBACED,KAAK,OACLC,MAAOzC,EACP0C,SAAU,SAACP,GAAD,OAAOH,EAAUG,EAAEQ,OAAOF,WAEpCjC,GAAa,wBAAQN,QAASgC,EAAjB,sBACd1B,GAAa,wBAAQN,QAASgC,EAAjB,mCC9DPU,EAVE,WACf,OACE,gCACE,uCACA,uDACA,cAAC,IAAD,CAAMtB,GAAG,IAAT,2BCsCSuB,EAlCH,WAIV,OACE,qBAAK/C,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CACEgD,KAAK,UACLC,UAAWlB,IAEb,cAAC,IAAD,CACEiB,KAAK,aACLC,UAAWxE,IAEb,cAAC,IAAD,CACEyE,OAAK,EACLF,KAAK,IACLC,UAAW3B,IAEb,cAAC,IAAD,CACE4B,OAAK,EACLF,KAAK,IACLC,UAAWH,aC9BvBK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f2f78045.chunk.js","sourcesContent":["import firebase from 'firebase/app' \r\nimport 'firebase/firestore';\r\n\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyDwMg-AaQpdxI459MGPCEwxgUTvndzF-ko\",\r\n  authDomain: \"dojo-blog-8c653.firebaseapp.com\",\r\n  databaseURL: \"https://dojo-blog-8c653-default-rtdb.firebaseio.com\",\r\n  projectId: \"dojo-blog-8c653\",\r\n  storageBucket: \"dojo-blog-8c653.appspot.com\",\r\n  messagingSenderId: \"30131984786\",\r\n  appId: \"1:30131984786:web:3f76c60f2c295f3274c94b\",\r\n  measurementId: \"G-CLT55QCLY1\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst projectFireStore = firebase.firestore()\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\n\r\nexport { projectFireStore, timestamp }","import { useParams } from \"react-router\";\r\n// import useFetch from \"../hooks/useFetch\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { projectFireStore } from \"../firestore/config\";\r\n\r\nconst BlogDetails = () => {\r\n\r\n  const history = useHistory()\r\n\r\n  const { id } = useParams(\"id\")\r\n\r\n  const [ blog, setBlog ] = useState({})\r\n\r\n  useEffect( () =>{\r\n  //   const unsub = projectFireStore.collection(\"blogs\")\r\n  //     .onSnapshot( snap => {\r\n  //       let documents = {}\r\n  //       // let ourBlog = snap.filter( doc => doc.id == id)\r\n  //       snap.forEach( doc => {\r\n  //         setD(doc.data())\r\n  //         documents.push({...doc.data(), id: doc.id })\r\n  //         // setIsPending(false)\r\n  //         // setError(null)\r\n  //         // console.log(documents);\r\n  //       });\r\n  //       setBlog(documents)\r\n  //       return () => unsub()\r\n  //     })\r\n\r\n    const dummyFun = ( async () =>{\r\n      let docRef = projectFireStore.collection(\"blogs\").doc(id);\r\n\r\n      let dummyBlog = {}\r\n\r\n      await docRef.get().then((doc) => {\r\n        if (doc.exists) {\r\n          console.log(doc.data());\r\n          dummyBlog = doc.data()\r\n          setBlog({...dummyBlog})\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      }).catch((error) => {\r\n          console.log(\"Error getting document:\", error);\r\n      });\r\n      console.log(blog)\r\n    })\r\n    dummyFun();\r\n    // console.log(blog)\r\n  }\r\n  ,[id])\r\n\r\n  // const { id } = useParams(\"id\")\r\n\r\n  // const { data:blog } = useFetch('http://localhost:8000/blogs/' + id)\r\n\r\n  // const history = useHistory()\r\n\r\n  const handleClick = () =>{\r\n    // fetch('http://localhost:8000/blogs/' + blog.id,{\r\n    //   method:'DELETE'\r\n    // }).then( () =>\r\n    //   history.push('/')\r\n    // )\r\n    projectFireStore.collection(\"blogs\").doc(id).delete().then(() => {\r\n      console.log(\"Document successfully deleted!\");\r\n      history.push('/');\r\n    }).catch((error) => {\r\n        console.error(\"Error removing document: \", error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"blog-details\">\r\n      { blog && <article>\r\n        { blog.title &&<h2>Blog Detail -  {blog.title} </h2> }\r\n        { blog.author && <p>Written by {blog.author}</p>}\r\n        { blog.body && <p>{blog.body}</p>}\r\n        <button onClick={handleClick}>delete</button>\r\n      </article> }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlogDetails;","import { useState,useEffect } from \"react\";\r\nimport { projectFireStore } from \"../firestore/config\";\r\n\r\n\r\nconst useFirestore = (collection) => {\r\n\r\n  const [ blogs, setBlogs ] = useState([]);\r\n  const [ isPending, setIsPending ] = useState(true)\r\n  // const [ error, setError ] = useState(null)\r\n  const [ noBlogs, setNoBlogs] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const unsub = projectFireStore.collection(collection)\r\n      .orderBy('createdAt', 'desc')\r\n      .onSnapshot( snap => {\r\n        if (snap.empty) {\r\n          console.log(\"empty snap\");\r\n          setNoBlogs(\"No Blogs\")\r\n          setIsPending(false)\r\n        }\r\n        let documents = []\r\n        snap.forEach( doc => {\r\n          documents.push({...doc.data(), id: doc.id })\r\n          setIsPending(false)\r\n          // setError(null)\r\n          // console.log(doc.data())\r\n        });\r\n        setBlogs(documents)\r\n      })\r\n\r\n      return () => unsub()\r\n\r\n  },[collection])\r\n\r\n  // console.log(blogs)\r\n\r\n  return { blogs, isPending, noBlogs }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default useFirestore;","const Theblog = ({ title, author}) => {\r\n  return (\r\n    <div className=\"theblog\">\r\n      <h2>{title}</h2>\r\n      <p>Writen by {author}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Theblog;","import { Link } from 'react-router-dom';\r\n// import useFetch from '../hooks/useFetch';\r\nimport useFirestore from '../hooks/useFireStore';\r\nimport Theblog from './Theblog';\r\n\r\nconst Bloglist = () => {\r\n  // const { data:blogs , isPending, error } = useFetch('http://localhost:8000/blogs')\r\n  const { blogs, isPending, noBlogs } = useFirestore('blogs');\r\n\r\n  return (\r\n    <div>\r\n      <h2>Blog list</h2>\r\n      {/* <Link to=\"/\"></Link> */}\r\n      { isPending && <p>Loading...</p>}\r\n      { noBlogs && <p>{noBlogs}</p>}\r\n      {/* { error && <p>{error}</p>} */}\r\n      { blogs && blogs.map( (blog) => {return(\r\n        <Link to={`/blogs/${blog.id}`}  key={blog.id}  className=\"remove-link-style\">\r\n          <Theblog title={blog.title} author={blog.author}/>\r\n        </Link>\r\n      )})}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bloglist;","import { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  // const handleChange = (e) => {\r\n  //   console.log(e.target.value);\r\n  // }\r\n\r\n  const newBlogStyle = {\r\n    backgroundColor: '#f2345f',\r\n    borderRadius: 8,\r\n    color : '#fff',\r\n    padding : 5\r\n  }\r\n\r\n  return (\r\n    <nav className='navbar'>\r\n      <h1>The Gang Blog</h1>\r\n      <div className='links'>\r\n        <Link to='/'>Home</Link>\r\n        <Link to='/create' style={newBlogStyle}>New Blog</Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { projectFireStore,timestamp } from \"../firestore/config\"\r\n\r\nconst Newblog = () => {\r\n\r\n  const [title, setTitle] = useState('')\r\n  const [body, setBody] = useState('')\r\n  const [author, setAuther] = useState('reda')\r\n  const [isPending, setIsPending] = useState(false)\r\n  const history = useHistory()\r\n  const createdAt = timestamp();\r\n\r\n  const blog = { title, body, author, createdAt };\r\n\r\n  const HandleClick = (e) =>{\r\n    e.preventDefault();\r\n\r\n    setIsPending(true);\r\n\r\n    const blogs = projectFireStore.collection('blogs');\r\n\r\n    blogs.add(blog).then( () => {\r\n      setIsPending(false);\r\n      // alert(\"Your message has been submittedðŸ‘\");\r\n      history.push('/');\r\n    })\r\n    .catch((error) => {\r\n      alert(error.message);\r\n      setIsPending(false);\r\n    });\r\n\r\n    // const { addBlog } = useFirestore('blogs')\r\n    // addBlog(blog)\r\n\r\n    // fetch('http://localhost:8000/blogs', {\r\n    //   method: 'POST',\r\n    //   headers: { 'Content-Type' : 'application/json'},\r\n    //   body: JSON.stringify(blog)\r\n    // }).then( () =>{\r\n    //   setIsPending(false)\r\n    //   history.push('/')\r\n    // })\r\n  }\r\n\r\n  return (\r\n    <div className=\"new-blog\">\r\n      <h2>New Blog</h2>\r\n      <form>\r\n        <label>Blog title:</label>\r\n        <input\r\n          type=\"text\" \r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <label>Blog body:</label>\r\n        <textarea\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        ></textarea>\r\n        <label>Blog auther:</label>\r\n        {/* <select\r\n          value={author}\r\n          onChange={(e) => setAuther(e.target.value)}\r\n        >\r\n          <option value=\"hazem\">hazem</option>\r\n          <option value=\"reda\">reda</option>\r\n        </select> */}\r\n        <input\r\n          type=\"text\" \r\n          value={author}\r\n          onChange={(e) => setAuther(e.target.value)}\r\n        />\r\n        {!isPending && <button onClick={HandleClick}>Add Blog</button>}\r\n        {isPending && <button onClick={HandleClick}>Adding Blog...</button>}\r\n        {/* <p>{title}</p>\r\n        <p>{author}</p>\r\n        <p>{body}</p> */}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Newblog;","import { Link } from \"react-router-dom\"\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div>\r\n      <h2>Sorry</h2>\r\n      <p>This page is not found</p>\r\n      <Link to=\"/\">Go home..</Link>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default NotFound;","// import { useState } from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Route , Switch} from 'react-router-dom';\nimport BlogDetails from './components/BlogDetails';\n\nimport Bloglist from \"./components/Bloglist\";\nimport Navbar from \"./components/Navbar\";\nimport Newblog from \"./components/Newblog\";\nimport NotFound from './components/NotFound';\n// import Theblog from \"./components/Theblog\";\n\nconst App = ()=> {\n\n  // const [ Blogs, useBlogs] = useState([])\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Navbar />\n        <Switch>\n          <Route\n            path=\"/create\"\n            component={Newblog}\n          />\n          <Route\n            path=\"/blogs/:id\"\n            component={BlogDetails}\n          />\n          <Route\n            exact\n            path=\"/\"\n            component={Bloglist}\n          />\n          <Route\n            exact\n            path=\"*\"\n            component={NotFound}\n          />\n        </Switch>\n      </BrowserRouter>\n      {/* <Bloglist /> */}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}